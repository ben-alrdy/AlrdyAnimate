{"version":3,"file":"AlrdyAnimate.js","mappings":"mBAEAA,SAASC,iBAAiB,oBAAoB,KAC5C,MAAMC,EAAWC,OAAOC,WAAa,IAC/BC,EAAsBL,SAASM,iBAAiB,iCAGjDH,OAAOI,KAAQJ,OAAOI,IAAIC,UAAaL,OAAOI,IAAIC,SAAS,MAAO,MACrEH,EAAoBI,SAASC,IAC3B,MAAMC,EAAWD,EAAQE,aAAa,gBAAkB,KAClDC,EAAQH,EAAQE,aAAa,aAAe,KAClDF,EAAQI,MAAMC,kBAAoBJ,EAClCD,EAAQI,MAAME,eAAiBH,CAAK,IAKlC,yBAA0BV,OAQhCE,EAAoBI,SAASC,IAC3B,MAAMO,EAAWP,EAAQE,aAAa,aAChCD,EAAWD,EAAQE,aAAa,eAChCC,EAAQH,EAAQE,aAAa,YAC7BM,EAAiBR,EAAQE,aAAa,aAC5C,IAAIO,EAAgBT,EAGhBC,GACFD,EAAQI,MAAMM,YAAY,uBAAwBT,GAGhDT,GAAyB,aAAbe,EACdP,EAAQI,MAAMM,YAAY,oBAAqB,MACtCP,GACTH,EAAQI,MAAMM,YAAY,oBAAqBP,GAI7CK,IACFC,EAAgBnB,SAASqB,cAAcH,IAGzC,MAAMI,EAAyBZ,EAAQE,aAAa,eACpD,IAAIW,EAAqBD,EACrBE,WAAWF,GACX,GAEJ,IACGG,MAAMF,IACPA,GAAsB,GACtBA,GAAsB,EACtB,CACA,MAIMG,EAAc,IAAIC,sBACrBC,IACCA,EAAQnB,SAASoB,IACXA,EAAMC,gBACRpB,EAAQqB,UAAUC,IAAI,UACxB,GACA,GAEJ,CACEC,UAAW,CAAC,EAAG,GACfC,WAboB,YADwB,KAA1B,EAAIX,YAmBpBY,EAAiB,IAAIR,sBACxBC,IACCA,EAAQnB,SAASoB,IACf,MAAMO,EAAOP,EAAMQ,OAAOC,yBACrBT,EAAMC,gBAAkBM,EAAKG,KAAOpC,OAAOqC,aAC9C9B,EAAQqB,UAAUU,OAAO,UAC3B,GACA,GAEJ,CACER,UAAW,EACXC,WAAY,QAIhBR,EAAYgB,QAAQvB,GACpBgB,EAAeO,QAAQvB,EACzB,KA5EAd,EAAoBI,SAASC,IAC3BA,EAAQqB,UAAUC,IAAI,UAAU,GA4ElC,G","sources":["webpack://alrdy-animations/./src/js/AlrdyAnimate.js"],"sourcesContent":["import styles from \"../scss/AlrdyAnimate.scss\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const isMobile = window.innerWidth < 768;\n  const allAnimatedElements = document.querySelectorAll(\"[aa-animate], [aa-transition]\");\n\n  // Fallback for browsers without CSS variables support\n  if (!window.CSS || !window.CSS.supports || !window.CSS.supports('--a', '0')) {\n    allAnimatedElements.forEach((element) => {\n      const duration = element.getAttribute(\"aa-duration\") || '1s';\n      const delay = element.getAttribute(\"aa-delay\") || '0s';\n      element.style.animationDuration = duration;\n      element.style.animationDelay = delay;\n    });\n  }\n\n  // Fallback for browsers that do not support IntersectionObserver\n  if (!('IntersectionObserver' in window)) {\n    allAnimatedElements.forEach((element) => {\n      element.classList.add(\"in-view\");\n    });\n    return; // Exit the script as the fallback is applied\n  }\n\n  // Intersection Observer setup for supported browsers\n  allAnimatedElements.forEach((element) => {\n    const aaMobile = element.getAttribute(\"aa-mobile\");\n    const duration = element.getAttribute(\"aa-duration\");\n    const delay = element.getAttribute(\"aa-delay\");\n    const anchorSelector = element.getAttribute(\"aa-anchor\");\n    let anchorElement = element;\n\n    // Set animation duration and delay based on attributes\n    if (duration) {\n      element.style.setProperty(\"--animation-duration\", duration);\n    }\n\n    if (isMobile && aaMobile === \"no-delay\") {\n      element.style.setProperty(\"--animation-delay\", \"0s\");\n    } else if (delay) {\n      element.style.setProperty(\"--animation-delay\", delay);\n    }\n\n    // Use the anchor element if specified\n    if (anchorSelector) {\n      anchorElement = document.querySelector(anchorSelector);\n    }\n\n    const viewportPercentageAttr = element.getAttribute(\"aa-viewport\");\n    let viewportPercentage = viewportPercentageAttr\n      ? parseFloat(viewportPercentageAttr)\n      : 0.8;\n\n    if (\n      !isNaN(viewportPercentage) &&\n      viewportPercentage >= 0 &&\n      viewportPercentage <= 1\n    ) {\n      const bottomMargin = (1 - viewportPercentage) * 100;\n      const rootMarginValue = `0px 0px -${bottomMargin}% 0px`;\n\n      // Observer to add 'in-view' class\n      const addObserver = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              element.classList.add(\"in-view\");\n            }\n          });\n        },\n        {\n          threshold: [0, 1],\n          rootMargin: rootMarginValue,\n        }\n      );\n\n      // Observer to remove 'in-view' class and add 'out-of-view' class\n      const removeObserver = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            const rect = entry.target.getBoundingClientRect();\n            if (!entry.isIntersecting && rect.top >= window.innerHeight) {\n              element.classList.remove(\"in-view\");\n            }\n          });\n        },\n        {\n          threshold: 0,\n          rootMargin: \"0px\",\n        }\n      );\n\n      addObserver.observe(anchorElement);\n      removeObserver.observe(anchorElement);\n    }\n  });\n});"],"names":["document","addEventListener","isMobile","window","innerWidth","allAnimatedElements","querySelectorAll","CSS","supports","forEach","element","duration","getAttribute","delay","style","animationDuration","animationDelay","aaMobile","anchorSelector","anchorElement","setProperty","querySelector","viewportPercentageAttr","viewportPercentage","parseFloat","isNaN","addObserver","IntersectionObserver","entries","entry","isIntersecting","classList","add","threshold","rootMargin","removeObserver","rect","target","getBoundingClientRect","top","innerHeight","remove","observe"],"sourceRoot":""}